(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-40f9910e"],{"00ae":function(e,s,t){},"5f66":function(e,s,t){e.exports=t.p+"img/chat.857a76cf.svg"},dd7b:function(e,s,t){"use strict";t.r(s);var a=function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.idUser?e._e():t("div",{staticClass:"login"},[t("v-container",[t("v-row",{attrs:{justify:"center"}},[t("v-col",{staticClass:"col-hidden",attrs:{col:"12",md:"6",lg:"5"}},[t("v-card",{staticClass:"text-center py-9",staticStyle:{"background-color":"rgb(243, 243, 243)"},attrs:{elevation:"0"}},[t("img",{staticClass:"svg_chat_style",attrs:{src:e.svgChat,alt:""}})])],1),t("v-col",{attrs:{col:"12",md:"6",lg:"5"}},[t("v-card",{staticClass:"text-center",attrs:{outlined:""}},[t("v-container",[t("div",{staticClass:"mb-5 text-center"},[t("h1",[e._v("redcode")])]),t("v-form",{ref:"formInside",attrs:{"lazy-validation":e.lazy},on:{submit:function(s){return s.preventDefault(),e.save(s)}},model:{value:e.valid,callback:function(s){e.valid=s},expression:"valid"}},[t("v-text-field",{attrs:{filled:"",shaped:"",rules:e.nameRules,label:"User Name",required:""},model:{value:e.username,callback:function(s){e.username=s},expression:"username"}}),t("v-text-field",{attrs:{filled:"",shaped:"",type:"password",rules:e.passwordRules,label:"Password",required:""},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),e.enableRegister?t("div",[t("v-text-field",{attrs:{filled:"",shaped:"",type:"text",rules:e.firstNameRules,label:"First name",required:""},model:{value:e.firstName,callback:function(s){e.firstName=s},expression:"firstName"}}),t("v-text-field",{attrs:{filled:"",shaped:"",type:"text",rules:e.lastNameRules,label:"Last name",required:""},model:{value:e.lastName,callback:function(s){e.lastName=s},expression:"lastName"}}),t("v-text-field",{attrs:{filled:"",shaped:"",type:"email",rules:e.emailRules,label:"Email",required:""},model:{value:e.email,callback:function(s){e.email=s},expression:"email"}})],1):e._e(),t("div",{staticClass:"mb-5 d-flex justify-space-between"},[e.enableRegister?e._e():t("a",{on:{click:function(s){e.enableRegister=!e.enableRegister}}},[e._v("register")]),e.enableRegister?t("a",{on:{click:function(s){e.enableRegister=!e.enableRegister}}},[e._v("login")]):e._e(),e.enableRegister?e._e():t("v-btn",{attrs:{type:"submit",small:"",disabled:!e.valid,color:"primary"}},[e._v("login")]),e.enableRegister?t("v-btn",{attrs:{type:"submit",small:"",disabled:!e.valid,color:"primary"}},[e._v("Register")]):e._e()],1),e.success?e._e():t("div",[e.enableRegister?e._e():t("div",[t("v-alert",{attrs:{dense:"",outlined:"",type:e.typeMessage}},[e._v(e._s(e.dataMessage))])],1),e.enableRegister?t("div",e._l(e.dataMessageRegister,(function(s,a){return t("v-alert",{key:a,attrs:{dense:"",outlined:"",type:e.typeMessage}},[e._v(e._s(s.message))])})),1):e._e()])],1)],1)],1)],1)],1)],1)],1)},r=[],n=t("5530"),i=(t("96cf"),t("1da1")),l=t("bc3a"),c=t.n(l),u=t("04e1"),o=t.n(u),d=t("2f62"),m=t("5f66"),f=t.n(m),v={data:function(){return{valid:!0,lazy:!1,success:!0,enableRegister:!1,dataMessage:"",dataMessageRegister:"",typeMessage:"error",username:"blopaDev",password:"1234322",firstName:"",lastName:"",email:"",nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length>=4||"Name is invalid"}],passwordRules:[function(e){return!!e||"Password is required"},function(e){return e.length>=4||"password is invalid"}],firstNameRules:[function(e){return!!e||"First name is required"},function(e){return e.length>=4||"First name is invalid"}],lastNameRules:[function(e){return!!e||"Last name is required"},function(e){return e.length>=4||"Last name is invalid"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}],svgChat:f.a}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var t,a;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(t=localStorage.getItem("session"),!t){s.next=7;break}return s.next=4,o()(t);case 4:a=s.sent,e.setIdUser(a.id),e.$router.push("/");case 7:case"end":return s.stop()}}),s)})))()},computed:Object(n["a"])({},Object(d["c"])(["idUser"])),methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["setIdUser","setToken"])),{},{save:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function s(){var t,a,r;return regeneratorRuntime.wrap((function(s){while(1)switch(s.prev=s.next){case 0:if(!e.enableRegister){s.next=14;break}if(!e.$refs.formInside.validate()){s.next=12;break}return s.prev=2,s.next=5,c.a.post("/functs/register",{username:e.username,password:e.password,firstName:e.firstName,lastName:e.lastName,email:e.email});case 5:t=s.sent,t.data.success?(e.enableRegister=!e.enableRegister,e.typeMessage="success",e.success=!t.data.success,e.dataMessage=t.data.message,setTimeout((function(){e.success=!0,e.dataMessage=""}),5e3)):(e.typeMessage="error",e.success=t.data.success,e.dataMessageRegister=t.data.error.errors,setTimeout((function(){e.success=!0,e.dataMessageRegister=""}),5e3)),s.next=12;break;case 9:s.prev=9,s.t0=s["catch"](2),console.error("there was an error registering");case 12:s.next=33;break;case 14:if(!e.$refs.formInside.validate()){s.next=33;break}return s.next=17,c.a.post("/functs/inside",{username:e.username,password:e.password});case 17:if(a=s.sent,!a.data.success){s.next=29;break}return s.next=21,o()(a.data.token);case 21:r=s.sent,localStorage.setItem("session",a.data.token),e.setIdUser(r.id),e.setToken(a.data.token),e.success=a.data.success,e.$router.push("/"),s.next=33;break;case 29:e.typeMessage="error",e.success=a.data.success,e.dataMessage=a.data.message,setTimeout((function(){e.success=!0,e.dataMessage=""}),2e3);case 33:case"end":return s.stop()}}),s,null,[[2,9]])})))()}})},g=v,p=(t("e65e"),t("2877")),b=Object(p["a"])(g,a,r,!1,null,"6a669702",null);s["default"]=b.exports},e65e:function(e,s,t){"use strict";var a=t("00ae"),r=t.n(a);r.a}}]);
//# sourceMappingURL=chunk-40f9910e.ddbcc4b7.js.map