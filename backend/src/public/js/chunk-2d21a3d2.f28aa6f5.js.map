{"version":3,"sources":["webpack:///./src/views/Home.vue?e8d5","webpack:///./src/components/posts.vue?bd41","webpack:///src/components/posts.vue","webpack:///./src/components/posts.vue?b2ef","webpack:///./src/components/posts.vue","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?493c","webpack:///./src/views/Home.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","posts","length","_l","item","index","key","loading","on","updateLike","_e","messages","staticRenderFns","user","post","indexPost","staticClass","images","scopedSlots","_u","fn","proxy","avatar","_id","_v","_s","username","_f","timestamp","description","isLike","reactions","$event","showImage","enableModalPost","dataImage","updateLikeEventModal","name","components","modalShowPost","props","Object","Boolean","indexUser","Number","data","computed","methods","element","find","$emit","islike","event","filters","formatTimestamp","component","message","created","idUser","getPostsOfFollows","$router","push","values","splice","id"],"mappings":"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","file":"js/chunk-2d21a3d2.f28aa6f5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-row',[_c('v-col',{attrs:{\"col\":\"4\"}}),_c('v-col',{attrs:{\"col\":\"4\"}},[(_vm.posts.length > 0)?_c('div',_vm._l((_vm.posts),function(item,index){return _c('posts',{key:index,attrs:{\"user\":item,\"loading\":_vm.loading,\"indexUser\":index},on:{\"updateLike\":_vm.updateLike}})}),1):_vm._e(),_c('message',{attrs:{\"message\":_vm.messages}})],1),_c('v-col',{attrs:{\"col\":\"4\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.user.posts != '')?_c('v-container',_vm._l((_vm.user.posts),function(post,indexPost){return _c('v-card',{key:indexPost,staticClass:\"mt-5\",attrs:{\"flat\":\"\",\"max-width\":\"500\",\"loader-height\":\"2\",\"loading\":_vm.loading}},[_c('v-img',{staticClass:\"align-end grey lighten-2\",attrs:{\"width\":\"100%\",\"src\":post.images,\"lazy-src\":post.images,\"aspect-ratio\":\"1\"},scopedSlots:_vm._u([{key:\"placeholder\",fn:function(){return [_c('v-row',{staticClass:\"fill-height ma-0\",attrs:{\"align\":\"center\",\"justify\":\"center\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"color\":\"grey lighten-5\"}})],1)]},proxy:true}],null,true)}),_c('v-list-item',[_c('v-list-item-avatar',{attrs:{\"color\":\"grey darken-3\"}},[_c('v-img',{staticClass:\"elevation-6\",attrs:{\"src\":_vm.user.avatar}})],1),_c('v-list-item-content',[_c('v-list-item-title',[_c('v-btn',{staticClass:\"pl-0\",attrs:{\"text\":\"\",\"color\":\"red lighten-2\",\"to\":'/profile/' + _vm.user._id}},[_vm._v(_vm._s(_vm.user.username))])],1)],1),_c('v-list-item-content',[_c('span',{staticClass:\"px-auto text-right text--disabled\"},[_vm._v(\" \"+_vm._s(_vm._f(\"formatTimestamp\")(post.timestamp))+\" \")])])],1),_c('v-card-title',{staticClass:\"pb-0\"},[_vm._v(_vm._s(post.description))]),_c('v-card-actions',[_c('v-btn',{attrs:{\"icon\":\"\",\"color\":_vm.isLike(post.reactions)},on:{\"click\":function($event){return _vm.updateLike(post._id, indexPost)}}},[_c('v-icon',[_vm._v(\"fas fa-heart\")])],1),_c('span',{staticClass:\"px-auto text-right text--disabled\"},[_vm._v(_vm._s(post.reactions.length)+\" Likes\")]),_c('v-spacer'),_c('v-btn',{attrs:{\"icon\":\"\",\"color\":\"info\"},on:{\"click\":function($event){return _vm.showImage(post, indexPost)}}},[_c('v-icon',[_vm._v(\"far fa-eye\")])],1)],1)],1)}),1):_vm._e(),_c('modal-show-post',{attrs:{\"enableModalPost\":_vm.enableModalPost,\"post\":_vm.dataImage},on:{\"changeActive\":function($event){_vm.enableModalPost = $event},\"updateLike\":_vm.updateLikeEventModal}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <v-container v-if=\"user.posts != ''\">\r\n      <v-card\r\n        flat\r\n        class=\"mt-5\"\r\n        max-width=\"500\"\r\n        loader-height=\"2\"\r\n        :loading=\"loading\"\r\n        v-for=\"(post, indexPost) of user.posts\"\r\n        :key=\"indexPost\"\r\n      >\r\n        <v-img\r\n          class=\"align-end grey lighten-2\"\r\n          width=\"100%\"\r\n          :src=\"post.images\"\r\n          :lazy-src=\"post.images\"\r\n          aspect-ratio=\"1\"\r\n        >\r\n          <template v-slot:placeholder>\r\n            <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\">\r\n              <v-progress-circular\r\n                indeterminate\r\n                color=\"grey lighten-5\"\r\n              ></v-progress-circular>\r\n            </v-row>\r\n          </template>\r\n        </v-img>\r\n\r\n        <v-list-item>\r\n          <v-list-item-avatar color=\"grey darken-3\">\r\n            <v-img class=\"elevation-6\" :src=\"user.avatar\"></v-img>\r\n          </v-list-item-avatar>\r\n\r\n          <v-list-item-content>\r\n            <v-list-item-title>\r\n              <v-btn\r\n                class=\"pl-0\"\r\n                text\r\n                color=\"red lighten-2\"\r\n                :to=\"'/profile/' + user._id\"\r\n                >{{ user.username }}</v-btn\r\n              >\r\n            </v-list-item-title>\r\n          </v-list-item-content>\r\n\r\n          <v-list-item-content>\r\n            <span class=\"px-auto text-right text--disabled\">\r\n              {{ post.timestamp | formatTimestamp }}\r\n            </span>\r\n          </v-list-item-content>\r\n        </v-list-item>\r\n\r\n        <v-card-title class=\"pb-0\">{{ post.description }}</v-card-title>\r\n\r\n        <v-card-actions>\r\n          <v-btn\r\n            icon\r\n            @click=\"updateLike(post._id, indexPost)\"\r\n            :color=\"isLike(post.reactions)\"\r\n          >\r\n            <v-icon>fas fa-heart</v-icon>\r\n          </v-btn>\r\n          <span class=\"px-auto text-right text--disabled\"\r\n            >{{ post.reactions.length }} Likes</span\r\n          >\r\n          <v-spacer />\r\n          <v-btn icon color=\"info\" @click=\"showImage(post, indexPost)\">\r\n            <v-icon>far fa-eye</v-icon>\r\n          </v-btn>\r\n        </v-card-actions>\r\n      </v-card>\r\n    </v-container>\r\n    <modal-show-post\r\n      :enableModalPost=\"enableModalPost\"\r\n      :post=\"dataImage\"\r\n      @changeActive=\"enableModalPost = $event\"\r\n      @updateLike=\"updateLikeEventModal\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from \"moment\";\r\nimport { mapState } from \"vuex\";\r\nimport axios from \"axios\";\r\nimport modalShowPost from \"@/components/modalShowPost\";\r\nexport default {\r\n  name: \"post\",\r\n  components: {\r\n    modalShowPost\r\n  },\r\n  props: {\r\n    user: Object,\r\n    loading: Boolean,\r\n    indexUser: Number,\r\n    item: Object\r\n  },\r\n  data() {\r\n    return {\r\n      enableModalPost: false,\r\n      dataImage: {},\r\n      indexPost: 0\r\n    };\r\n  },\r\n  computed: {\r\n    ...mapState([\"idUser\", \"token\"])\r\n  },\r\n  methods: {\r\n    isLike(reactions) {\r\n      const find = reactions.findIndex(element => {\r\n        return element == this.idUser;\r\n      });\r\n      return find < 0 ? \"blue\" : \"red\";\r\n    },\r\n    async updateLike(idPost, indexPost) {\r\n      const updateLike = await axios.post(\r\n        \"/functs/likePost\",\r\n        { idPost: idPost },\r\n        { headers: { Authorization: this.token } }\r\n      );\r\n\r\n      if (updateLike.data.success) {\r\n        this.$emit(\"updateLike\", {\r\n          islike: updateLike.data.isLike,\r\n          user: this.indexUser,\r\n          post: indexPost\r\n        });\r\n      }\r\n    },\r\n    showImage(item, indexPost) {\r\n      this.enableModalPost = true;\r\n      this.dataImage = item;\r\n      this.indexPost = indexPost;\r\n    },\r\n    updateLikeEventModal(event) {\r\n      this.$emit(\"updateLike\", {\r\n        islike: event,\r\n        user: this.indexUser,\r\n        post: this.indexPost\r\n      });\r\n    }\r\n  },\r\n  filters: {\r\n    formatTimestamp(timestamp) {\r\n      return moment(timestamp)\r\n        .startOf(\"minutes\")\r\n        .fromNow();\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./posts.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./posts.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./posts.vue?vue&type=template&id=0cad236e&\"\nimport script from \"./posts.vue?vue&type=script&lang=js&\"\nexport * from \"./posts.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <v-row>\r\n      <v-col col=\"4\"></v-col>\r\n      <v-col col=\"4\">\r\n        <div v-if=\"posts.length > 0\">\r\n          <posts\r\n            v-for=\"(item, index) of posts\"\r\n            :key=\"index\"\r\n            :user=\"item\"\r\n            :loading=\"loading\"\r\n            :indexUser=\"index\"\r\n            @updateLike=\"updateLike\"\r\n          />\r\n        </div>\r\n        <message :message=\"messages\" />\r\n      </v-col>\r\n      <v-col col=\"4\"></v-col>\r\n    </v-row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapState } from \"vuex\";\r\nimport posts from \"@/components/posts\";\r\nimport message from \"@/components/message\";\r\nimport axios from \"axios\";\r\nexport default {\r\n  name: \"Home\",\r\n  components: {\r\n    posts,\r\n    message\r\n  },\r\n  data() {\r\n    return {\r\n      posts: [],\r\n      loading: false,\r\n      messages: {}\r\n    };\r\n  },\r\n  created() {\r\n    if (!this.idUser) {\r\n      this.$router.push(\"/login\");\r\n    } else {\r\n      this.getPostsOfFollows();\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapState([\"idUser\", \"token\"])\r\n  },\r\n  methods: {\r\n    async getPostsOfFollows() {\r\n      this.loading = true;\r\n      const response = await axios.post(\r\n        \"/functs/postsOfFollow\",\r\n        {},\r\n        { headers: { Authorization: this.token } }\r\n      );\r\n      if (response.data.success) {\r\n        this.posts = response.data.posts;\r\n        if (this.posts.length <= 0) {\r\n          this.messages = {\r\n            text: \"Not following anyone yet, search to see their posts\",\r\n            color: \"indigo\"\r\n          };\r\n        } else {\r\n          this.messages = {\r\n            text: \"Is already up to date\",\r\n            color: \"info\"\r\n          };\r\n        }\r\n      }\r\n      this.loading = false;\r\n    },\r\n    updateLike(values) {\r\n      if (values.islike) {\r\n        this.posts[values.user].posts[values.post].reactions.push(this.idUser);\r\n      } else {\r\n        const id = this.posts[values.user].posts[\r\n          values.post\r\n        ].reactions.findIndex(id => id == this.idUser);\r\n        this.posts[values.user].posts[values.post].reactions.splice(id, 1);\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=27fdbcbb&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}