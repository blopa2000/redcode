(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b083bd8"],{"05d6":function(e,t,a){},b3b1:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.exists?a("v-container",[a("div",{staticClass:"d-flex align-center mb-5"},[a("div",{staticClass:"mr-5"},[a("v-avatar",{attrs:{size:"90"}},[a("v-img",{attrs:{src:e.profile.avatar},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!1,4034393411)})],1)],1),a("div",{directives:[{name:"show",rawName:"v-show",value:""!=e.profile,expression:"profile != ''"}]},[a("p",{staticClass:"font-weight-black mb-0"},[e._v(e._s(e.profile.username))]),a("strong",{staticClass:"mb-0"},[e._v(e._s(e.profile.firstName)+" "+e._s(e.profile.lastName))]),a("p",{staticClass:"font-weight-thin mb-0",staticStyle:{"max-width":"421px"}},[e._v(" "+e._s(e.profile.description)+" ")])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.activeEvent,expression:"activeEvent"}]},[a("v-btn",{attrs:{text:"",icon:"",color:"red lighten-2 ml-5"},on:{click:e.infoProfile}},[a("v-icon",[e._v("fas fa-toolbox")])],1)],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.activeEvent&&""!=e.idUser,expression:"!activeEvent && idUser != ''"}]},[a("v-btn",{attrs:{color:"red lighten-2 white--text"},on:{click:e.UpdateFollow}},[e._v(e._s(e.following[e.isFollow]))])],1),e.activeEvent?a("div",[a("v-btn",{attrs:{dark:"",elevation:0,color:"red lighten-2"},on:{click:function(t){e.activeModal=!0}}},[e._v("upload post")])],1):e._e(),""!=e.userPosts?a("div",[a("v-row",e._l(e.userPosts,(function(t,s){return a("v-col",{key:s,staticClass:"d-flex child-flex",attrs:{cols:"12",sm:"4"}},[a("a",{on:{click:function(a){return e.showImage(t,s)}}},[a("v-card",{staticClass:"d-flex",attrs:{flat:""}},[a("v-img",{staticClass:"grey lighten-2",attrs:{src:t.images,"lazy-src":t.images,"aspect-ratio":"1"},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1)],1)])})),1)],1):e._e()]):e._e(),a("v-container",[""!=e.userPosts&&e.exists?e._e():a("message",{staticClass:"mt-5",attrs:{message:e.message}})],1),a("modal-upload-post",{attrs:{activeModal:e.activeModal},on:{close:function(t){e.activeModal=!1},savepost:e.getPosts}}),a("modal-config-profile",{attrs:{activeModalConfig:e.activeModalConfig},on:{closeConfig:function(t){e.activeModalConfig=!1},updateProfile:function(t){e.profile=t}}}),a("modal-show-post",{attrs:{enableModalPost:e.enableModalPost,post:e.dataImage},on:{changeActive:function(t){e.enableModalPost=t},updateLike:e.updateLike}})],1)},r=[],o=(a("c740"),a("a434"),a("96cf"),a("1da1")),n=a("5530"),i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",[a("v-card-title",{staticClass:"headline grey lighten-2",attrs:{"primary-title":""}},[e._v("Upload post")]),a("v-card-text",[a("v-form",{ref:"form",attrs:{id:"form",enctype:"multipart/form-data"},on:{submit:function(t){return t.preventDefault(),e.uploadPost(t)}},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-file-input",{attrs:{required:"",label:"Images"},on:{change:e.onFileSelected}}),a("v-text-field",{attrs:{rules:e.descriptionRules,label:"Description",required:""},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}}),a("v-btn",{attrs:{type:"submit",color:"accent",rounded:"",loading:e.loading,disabled:e.loading||!e.valid,elevation:0}},[e._v("save")])],1)],1),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:"",disabled:e.loading},on:{click:function(t){e.show=!1}}},[e._v("Cancel")])],1)],1)],1)],1)},l=[],c=(a("a4d3"),a("e01a"),a("bc3a")),u=a.n(c),d=a("2f62"),f={props:{activeModal:Boolean},data:function(){return{loading:!1,valid:!0,description:"",post:[],descriptionRules:[function(e){return!!e||"Description is required"}]}},computed:Object(n["a"])(Object(n["a"])({},Object(d["c"])(["token"])),{},{show:{get:function(){return this.activeModal},set:function(e){this.$emit("close",e)}}}),methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["setLoading"])),{},{uploadPost:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()||!e.post){t.next=15;break}return e.loading=!0,e.setLoading(!0),a=new FormData,a.append("post",e.post),a.append("description",e.description),t.next=8,u.a.post("/functs/post",a,{headers:{Authorization:e.token}});case 8:s=t.sent,s.data.success&&e.$emit("savepost",s.data.success),e.loading=!1,e.setLoading(!1),e.show=!1,t.next=16;break;case 15:e.MessageFloat({message:"Your image is required",show:!0,value:"warning"});case 16:case"end":return t.stop()}}),t)})))()},onFileSelected:function(e){this.post=e}})},v=f,m=a("2877"),p=Object(m["a"])(v,i,l,!1,null,null,null),h=p.exports,g=a("f42f"),b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-dialog",{attrs:{fullscreen:"","hide-overlay":"",transition:"dialog-bottom-transition"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("v-card",{attrs:{tile:""}},[a("v-toolbar",{attrs:{flat:"",dark:"",color:"accent"}},[a("v-toolbar-title",[e._v("Settings")]),a("v-spacer"),a("v-toolbar-items",[null!=e.billboard?a("v-btn",{attrs:{dark:"",icon:""},on:{click:function(t){return e.back()}}},[a("v-icon",[e._v("fas fa-undo-alt")])],1):e._e(),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(t){e.show=!1}}},[a("v-icon",[e._v("fas fa-times-circle")])],1)],1)],1),a("v-card-text",{attrs:{color:"info"}},[null==e.billboard?a("AccessList",{on:{action:function(t){e.billboard=t}}}):e._e(),"configurationProfile"==e.billboard?a("configuration-profile",{on:{updateProfile:e.updateProfile}}):e._e(),"changePassword"==e.billboard?a("change-password"):e._e()],1)],1)],1)],1)},w=[],x=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-list",{attrs:{"three-line":"",subheader:""}},[a("v-subheader",[e._v("User Settings")]),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v("user info")]),a("v-list-item-subtitle",{staticClass:"d-flex align-center",on:{click:function(t){return e.actions("configurationProfile")}}},[a("v-btn",{staticClass:"mr-5",attrs:{icon:"",color:"accent"}},[a("v-icon",[e._v("far fa-user")])],1),e._v("Edit profile ")],1)],1)],1),a("v-divider"),a("v-list-item",[a("v-list-item-content",[a("v-list-item-title",[e._v("user info")]),a("v-list-item-subtitle",{staticClass:"d-flex align-center",on:{click:function(t){return e.actions("changePassword")}}},[a("v-btn",{staticClass:"mr-5",attrs:{icon:"",color:"accent"}},[a("v-icon",[e._v("fas fa-unlock")])],1),e._v("Change password ")],1)],1)],1),a("v-divider")],1)],1)},k=[],P={data:function(){return{modelActions:null}},methods:{actions:function(e){this.modelActions=e,this.$emit("action",e)}}},_=P,C=Object(m["a"])(_,x,k,!1,null,null,null),j=C.exports,R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"d-flex align-center flex-column"},[a("div",[a("v-avatar",{attrs:{size:"90"}},[a("v-img",{attrs:{src:e.avatar},scopedSlots:e._u([{key:"placeholder",fn:function(){return[a("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[a("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}])})],1)],1),a("div",[a("v-btn",{staticClass:"buttonFile",attrs:{text:"",color:"light-blue lighten-4"}},[e._v(" Update avatar "),a("v-file-input",{ref:"avatar",staticClass:"FileAvatar",attrs:{name:"avatar"},on:{change:e.fileAvatar},model:{value:e.auxFileAvatar,callback:function(t){e.auxFileAvatar=t},expression:"auxFileAvatar"}})],1)],1)]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{rules:e.userNameRules,label:"User name",required:""},model:{value:e.form.username,callback:function(t){e.$set(e.form,"username",t)},expression:"form.username"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"First name",required:""},model:{value:e.form.firstName,callback:function(t){e.$set(e.form,"firstName",t)},expression:"form.firstName"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{rules:e.nameRules,label:"Last name",required:""},model:{value:e.form.lastName,callback:function(t){e.$set(e.form,"lastName",t)},expression:"form.lastName"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{rules:e.emailRules,label:"Email",required:""},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-dialog",{ref:"dialog",attrs:{"return-value":e.form.dateBirth,persistent:"",width:"290px"},on:{"update:returnValue":function(t){return e.$set(e.form,"dateBirth",t)},"update:return-value":function(t){return e.$set(e.form,"dateBirth",t)}},scopedSlots:e._u([{key:"activator",fn:function(t){var s=t.on;return[a("v-text-field",e._g({attrs:{label:"Picker in dialog","prepend-icon":"far fa-calendar-times",readonly:""},model:{value:e.form.dateBirth,callback:function(t){e.$set(e.form,"dateBirth",t)},expression:"form.dateBirth"}},s))]}}]),model:{value:e.modalDatePicker,callback:function(t){e.modalDatePicker=t},expression:"modalDatePicker"}},[a("v-date-picker",{attrs:{scrollable:""},model:{value:e.form.dateBirth,callback:function(t){e.$set(e.form,"dateBirth",t)},expression:"form.dateBirth"}},[a("v-spacer"),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){e.modalDatePicker=!1}}},[e._v("Cancel")]),a("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(t){return e.$refs.dialog.save(e.form.dateBirth)}}},[e._v("OK")])],1)],1)],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-select",{attrs:{items:e.optionSex,label:"Sex",required:""},model:{value:e.form.sex,callback:function(t){e.$set(e.form,"sex",t)},expression:"form.sex"}})],1),a("v-col",{attrs:{cols:"12"}},[a("v-textarea",{attrs:{solo:"",name:"input-7-4",label:"Description"},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),a("v-col",{staticClass:"d-flex justify-end",attrs:{cols:"12"}},[a("v-btn",{attrs:{disabled:!e.valid,color:"accent",elevation:"0"},on:{click:e.submitForm}},[e._v("Save information")])],1)],1)],1)],1)],1)},O=[],$=(a("ac1f"),a("1276"),{data:function(){return{valid:!1,modalDatePicker:!1,optionSex:[{value:"M",text:"Male"},{value:"F",text:"Female"}],form:{firstName:"",lastName:"",username:"",email:"",dateBirth:"",description:"",sex:""},avatar:"",auxFileAvatar:{},userNameRules:[function(e){return!!e||"user name is required"},function(e){return e.length>=6||"user name must be less than 6 characters"}],nameRules:[function(e){return!!e||"Name is required"},function(e){return e.length>=4||"Name must be less than 4 characters"}],emailRules:[function(e){return!!e||"E-mail is required"},function(e){return/.+@.+/.test(e)||"E-mail must be valid"}]}},mounted:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("/functs/getProfile/".concat(e.idUser));case 2:a=t.sent,a.data.success&&(void 0!=a.data.profile.dateBirth&&(s=a.data.profile.dateBirth.split("T"),a.data.profile.dateBirth=s[0]),e.form=a.data.profile,e.avatar=e.form.avatar);case 4:case"end":return t.stop()}}),t)})))()},computed:Object(n["a"])({},Object(d["c"])(["idUser","token"])),methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["setLoading"])),{},{submitForm:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=7;break}return e.setLoading(!0),t.next=4,u.a.post("/functs/updateUserInfo",e.form,{headers:{Authorization:e.token}});case 4:a=t.sent,a.data.success&&e.$emit("updateProfile",e.form),e.setLoading(!1);case 7:case"end":return t.stop()}}),t)})))()},fileAvatar:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setLoading(!0),a=new FormData,a.append("avatar",e.auxFileAvatar),t.next=5,u.a.post("/functs/saveAvatar",a,{headers:{Authorization:e.token}});case 5:s=t.sent,s.data.success&&(e.avatar=s.data.avatar,e.form.avatar=e.avatar,e.$emit("updateProfile",e.form)),e.setLoading(!1);case 8:case"end":return t.stop()}}),t)})))()}}),destroyed:function(){this.form={}}}),y=$,F=(a("ef2e"),Object(m["a"])(y,R,O,!1,null,"e33126d2",null)),M=F.exports,A=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("h1",[e._v("Change password")]),a("v-form",{ref:"form",model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"password",label:"Current password",rules:e.passwordRules},model:{value:e.CurrentPassword,callback:function(t){e.CurrentPassword=t},expression:"CurrentPassword"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"password",label:"Password",rules:e.passwordRules},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),a("v-col",{attrs:{cols:"12",sm:"4"}},[a("v-text-field",{attrs:{type:"password",label:"Repeat password",rules:e.RepeatPasswordRules},model:{value:e.RepeatPassword,callback:function(t){e.RepeatPassword=t},expression:"RepeatPassword"}})],1),a("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[a("v-btn",{attrs:{color:"accent",disabled:!e.valid},on:{click:e.save}},[e._v("save Changes")])],1)],1)],1),a("div",{staticClass:"d-flex justify-center"},[a("message",{attrs:{message:e.message}})],1)],1)},L=[],E=a("16c2"),N={name:"changePassword",components:{message:E["a"]},data:function(){var e=this;return{valid:!1,message:{},CurrentPassword:"",password:"",RepeatPassword:"",passwordRules:[function(e){return!!e||"Password is requerid"},function(e){return e.length>=5||"password must be at least 5 characters"}],RepeatPasswordRules:[function(e){return!!e||"Password is requerid"},function(t){return t==e.password||"passwords don't match"}]}},computed:Object(n["a"])({},Object(d["c"])(["token"])),methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["setLoading"])),{},{save:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$refs.form.validate()){t.next=9;break}return e.setLoading(!0),t.next=4,u.a.post("/functs/changePassword",{CurrentPassword:e.CurrentPassword,newPassword:e.password},{headers:{Authorization:e.token}});case 4:a=t.sent,e.setLoading(!1),a.data.success?(e.message={text:a.data.message,color:"success"},e.$refs.form.reset()):e.message={text:a.data.message,color:"error"},t.next=10;break;case 9:e.message={text:"It's not valid",color:"error"};case 10:setTimeout((function(){e.message={}}),3e3);case 11:case"end":return t.stop()}}),t)})))()}})},U=N,B=Object(m["a"])(U,A,L,!1,null,null,null),I=B.exports,q={components:{AccessList:j,configurationProfile:M,changePassword:I},props:{activeModalConfig:Boolean},data:function(){return{billboard:null}},computed:{show:{get:function(){return this.activeModalConfig},set:function(e){this.$emit("closeConfig",e)}}},methods:{back:function(){switch(this.billboard){case"configurationProfile":this.billboard=null;break;case"changePassword":this.billboard=null;break}},updateProfile:function(e){this.$emit("updateProfile",e)}}},S=q,D=Object(m["a"])(S,b,w,!1,null,null,null),z=D.exports,T={components:{modalUploadPost:h,modalConfigProfile:z,modalShowPost:g["a"],message:E["a"]},data:function(){return{activeEvent:!0,exists:!1,activeModal:!1,activeModalConfig:!1,enableModalPost:!1,dataImage:{},userPosts:[],isFollow:!1,IndexImage:0,following:{true:"unfollow",false:"follow"},message:{},profile:{}}},mounted:function(){this.setLoading(!0),this.getProfile(),this.setLoading(!1)},watch:{$route:function(e,t){this.getProfile()}},computed:Object(n["a"])({},Object(d["c"])(["idUser","token"])),methods:Object(n["a"])(Object(n["a"])({},Object(d["b"])(["setLoading"])),{},{getProfile:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,u.a.post("/functs/getProfile/".concat(e.$route.params.id));case 2:if(a=t.sent,e.idUser===e.$route.params.id){t.next=12;break}if(e.activeEvent=!1,!e.token){t.next=10;break}return t.next=8,u.a.post("/functs/isFollowing",{idFollow:e.$route.params.id},{headers:{Authorization:e.token}});case 8:s=t.sent,s.data.success?e.isFollow=!0:e.isFollow=!1;case 10:t.next=13;break;case 12:e.activeEvent=!0;case 13:a.data.success?(e.exists=!0,e.profile=a.data.profile,e.getPosts()):(e.message={text:"".concat(a.data.message,"...\n          this may be an internal error or the user cannot be found\n          "),color:"error"},e.exists=!1);case 14:case"end":return t.stop()}}),t)})))()},getPosts:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.userPosts="",t.next=3,u.a.post("/functs/posts",{id:e.$route.params.id});case 3:a=t.sent,a.data.success?(e.userPosts=a.data.posts,e.userPosts.length<=0&&(e.idUser!==e.$route.params.id?e.message={text:"This user has no uploaded posts",color:"info"}:e.message={text:"Has no posts... upload one",color:"info"})):(e.userPosts=[],e.message={text:a.data.message,color:"info"});case 5:case"end":return t.stop()}}),t)})))()},UpdateFollow:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.isFollow){t.next=5;break}return t.next=3,u.a.put("/functs/unFollow",{idFollow:e.$route.params.id},{headers:{Authorization:e.token}});case 3:t.next=7;break;case 5:return t.next=7,u.a.put("/functs/follow",{idFollow:e.$route.params.id},{headers:{Authorization:e.token}});case 7:e.isFollow=!e.isFollow;case 8:case"end":return t.stop()}}),t)})))()},infoProfile:function(){this.activeModalConfig=!0},showImage:function(e,t){this.enableModalPost=!0,this.dataImage=e,this.IndexImage=t},updateLike:function(e){var t=this,a=this.IndexImage;if(e)this.userPosts[a].reactions.push(this.idUser);else{var s=this.userPosts[a].reactions.findIndex((function(e){return e==t.idUser}));this.userPosts[a].reactions.splice(s,1)}}})},J=T,H=Object(m["a"])(J,s,r,!1,null,null,null);t["default"]=H.exports},ef2e:function(e,t,a){"use strict";var s=a("05d6"),r=a.n(s);r.a}}]);
//# sourceMappingURL=chunk-2b083bd8.7db93aff.js.map